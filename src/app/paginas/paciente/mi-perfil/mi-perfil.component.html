<app-spinner *ngIf='!this.cargo'></app-spinner>

<section class="container" *ngIf='this.cargo'>

    <div align="center">
        <div  class="pl-2 pr-2 pb-2 rounded bg-dark text-white">
            <h2  style="text-transform: capitalize;">{{datosUsuario.nombre + ' ' + datosUsuario.apellido }}</h2>

            <section id="carouselExampleControls" class="carousel slide" data-ride="carousel">
                <div class="carousel-inner">
                    <div class="carousel-item active">
                    <img [src]="datosUsuario.imagenPrincipal" class="w-50" >
                    </div>
                    <div class="carousel-item">
                    <img [src]="datosUsuario.imagenSecundaria" class="w-50">
                    </div>
                </div>
                <a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    <span class="sr-only">Previous</span>
                </a>
                <a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    <span class="sr-only">Next</span>
                </a>
           </section>

            <section class="h-100 mt-2 text-center">
                <h4>Edad: {{datosUsuario.edad}}</h4>
                <h4>DNI: {{datosUsuario.dni}}</h4>
                <h4>Obra Social: {{datosUsuario.obraSocial}}</h4>
                    <h4>{{datosUsuario.correo}}</h4>
            </section>
            
        </div>   
                
</div>

<section class="mt-2 bg-dark ">
    <div class="text-center">
        <label class="h1 text-white">Historia Clinica</label>
    </div>
    <div class='text-center'>
        <button class="btn btn-danger " (click)='GenerarPDF()'>Generar PDF</button>
    </div>
</section>
    

<div class="row">
    <div class="col-12 col-xl-6">
        <table class="table table-dark table-hover" >
            <thead>
                <tr>  
                    <th>Fecha</th>
                    <th>Especialista</th>
                    <th>Especialidad</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor='let unaHistoria of this.listaHistoriaClinica' (click)='historiaSeleccionada=unaHistoria' >
                    <td>{{unaHistoria.fecha}}</td>
                    <td>{{unaHistoria.correoEspecialista | cambiarDatoPersonal:this.listaEspecialistas | primeraLetraMayuscula}}</td>
                    <td>{{unaHistoria.especialidad}}</td>
                </tr>
            </tbody>
        </table>

    </div>

    <div class="col-12 col-xl-6">
        <table class="table-dark table table-hover table-responsive-sm" *ngIf='historiaSeleccionada'>
            <thead>
                <tr>
                    <th>Clave</th>
                    <th>Valor</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>Fecha</td>
                    <td>{{historiaSeleccionada.fecha}}</td>
                </tr>
                <tr>
                    <td>Especialista</td>
                    <td>{{historiaSeleccionada.correoEspecialista}}</td>
                </tr>
                <tr>
                    <td>Especialidad</td>
                    <td>{{historiaSeleccionada.especialidad}}</td>
                </tr>
                <tr>
                    <td>Altura</td>
                    <td>{{historiaSeleccionada.altura}}</td>
                </tr>
                <tr>
                    <td>Peso</td>
                    <td>{{historiaSeleccionada.peso}}</td>
                </tr>
                <tr>
                    <td>Presion</td>
                    <td>{{historiaSeleccionada.presion}}</td>
                </tr>
                <tr *ngFor='let dato of historiaSeleccionada.datosDinamicos'>
                    <td>{{dato.nombre}}</td>
                    <td>{{dato.valor}}</td>
                </tr>
                
            </tbody>
        </table>
    
    

    </div>

</div>
    



</section>


    
